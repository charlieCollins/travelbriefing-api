//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../target/dependency/com/google/common/graph/EndpointPairIterator.java
//

#include "J2ObjC_source.h"
#include "com/google/common/base/Preconditions.h"
#include "com/google/common/collect/AbstractIterator.h"
#include "com/google/common/collect/ImmutableSet.h"
#include "com/google/common/collect/Sets.h"
#include "com/google/common/collect/UnmodifiableIterator.h"
#include "com/google/common/graph/EndpointPair.h"
#include "com/google/common/graph/EndpointPairIterator.h"
#include "com/google/common/graph/Graph.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/Set.h"

#pragma clang diagnostic ignored "-Wincomplete-implementation"

@interface ComGoogleCommonGraphEndpointPairIterator () {
 @public
  id<ComGoogleCommonGraphGraph> graph_;
  id<JavaUtilIterator> nodeIterator_;
}

- (instancetype)initWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph;

@end

J2OBJC_FIELD_SETTER(ComGoogleCommonGraphEndpointPairIterator, graph_, id<ComGoogleCommonGraphGraph>)
J2OBJC_FIELD_SETTER(ComGoogleCommonGraphEndpointPairIterator, nodeIterator_, id<JavaUtilIterator>)

__attribute__((unused)) static void ComGoogleCommonGraphEndpointPairIterator_initWithComGoogleCommonGraphGraph_(ComGoogleCommonGraphEndpointPairIterator *self, id<ComGoogleCommonGraphGraph> graph);

__attribute__((unused)) static jboolean ComGoogleCommonGraphEndpointPairIterator_advance(ComGoogleCommonGraphEndpointPairIterator *self);

@interface ComGoogleCommonGraphEndpointPairIterator_Directed : ComGoogleCommonGraphEndpointPairIterator

- (instancetype)initWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph;

- (ComGoogleCommonGraphEndpointPair *)computeNext;

- (ComGoogleCommonGraphEndpointPair *)endOfData;

- (ComGoogleCommonGraphEndpointPair *)next;

- (ComGoogleCommonGraphEndpointPair *)peek;

@end

J2OBJC_EMPTY_STATIC_INIT(ComGoogleCommonGraphEndpointPairIterator_Directed)

__attribute__((unused)) static void ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(ComGoogleCommonGraphEndpointPairIterator_Directed *self, id<ComGoogleCommonGraphGraph> graph);

__attribute__((unused)) static ComGoogleCommonGraphEndpointPairIterator_Directed *new_ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleCommonGraphEndpointPairIterator_Directed *create_ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph);

J2OBJC_TYPE_LITERAL_HEADER(ComGoogleCommonGraphEndpointPairIterator_Directed)

@interface ComGoogleCommonGraphEndpointPairIterator_Undirected : ComGoogleCommonGraphEndpointPairIterator {
 @public
  id<JavaUtilSet> visitedNodes_;
}

- (instancetype)initWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph;

- (ComGoogleCommonGraphEndpointPair *)computeNext;

- (ComGoogleCommonGraphEndpointPair *)endOfData;

- (ComGoogleCommonGraphEndpointPair *)next;

- (ComGoogleCommonGraphEndpointPair *)peek;

@end

J2OBJC_EMPTY_STATIC_INIT(ComGoogleCommonGraphEndpointPairIterator_Undirected)

J2OBJC_FIELD_SETTER(ComGoogleCommonGraphEndpointPairIterator_Undirected, visitedNodes_, id<JavaUtilSet>)

__attribute__((unused)) static void ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(ComGoogleCommonGraphEndpointPairIterator_Undirected *self, id<ComGoogleCommonGraphGraph> graph);

__attribute__((unused)) static ComGoogleCommonGraphEndpointPairIterator_Undirected *new_ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleCommonGraphEndpointPairIterator_Undirected *create_ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph);

J2OBJC_TYPE_LITERAL_HEADER(ComGoogleCommonGraphEndpointPairIterator_Undirected)

@implementation ComGoogleCommonGraphEndpointPairIterator

+ (ComGoogleCommonGraphEndpointPairIterator *)ofWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph {
  return ComGoogleCommonGraphEndpointPairIterator_ofWithComGoogleCommonGraphGraph_(graph);
}

- (instancetype)initWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph {
  ComGoogleCommonGraphEndpointPairIterator_initWithComGoogleCommonGraphGraph_(self, graph);
  return self;
}

- (jboolean)advance {
  return ComGoogleCommonGraphEndpointPairIterator_advance(self);
}

- (void)dealloc {
  RELEASE_(graph_);
  RELEASE_(nodeIterator_);
  RELEASE_(node_);
  RELEASE_(successorIterator_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LComGoogleCommonGraphEndpointPairIterator;", 0x8, 0, 1, -1, 2, -1, -1 },
    { NULL, NULL, 0x2, -1, 1, -1, 3, -1, -1 },
    { NULL, "Z", 0x14, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(ofWithComGoogleCommonGraphGraph:);
  methods[1].selector = @selector(initWithComGoogleCommonGraphGraph:);
  methods[2].selector = @selector(advance);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "graph_", "LComGoogleCommonGraphGraph;", .constantValue.asLong = 0, 0x12, -1, -1, 4, -1 },
    { "nodeIterator_", "LJavaUtilIterator;", .constantValue.asLong = 0, 0x12, -1, -1, 5, -1 },
    { "node_", "LNSObject;", .constantValue.asLong = 0, 0x4, -1, -1, 6, -1 },
    { "successorIterator_", "LJavaUtilIterator;", .constantValue.asLong = 0, 0x4, -1, -1, 5, -1 },
  };
  static const void *ptrTable[] = { "of", "LComGoogleCommonGraphGraph;", "<N:Ljava/lang/Object;>(Lcom/google/common/graph/Graph<TN;>;)Lcom/google/common/graph/EndpointPairIterator<TN;>;", "(Lcom/google/common/graph/Graph<TN;>;)V", "Lcom/google/common/graph/Graph<TN;>;", "Ljava/util/Iterator<TN;>;", "TN;", "LComGoogleCommonGraphEndpointPairIterator_Directed;LComGoogleCommonGraphEndpointPairIterator_Undirected;", "<N:Ljava/lang/Object;>Lcom/google/common/collect/AbstractIterator<Lcom/google/common/graph/EndpointPair<TN;>;>;" };
  static const J2ObjcClassInfo _ComGoogleCommonGraphEndpointPairIterator = { "EndpointPairIterator", "com.google.common.graph", ptrTable, methods, fields, 7, 0x400, 3, 4, -1, 7, -1, 8, -1 };
  return &_ComGoogleCommonGraphEndpointPairIterator;
}

@end

ComGoogleCommonGraphEndpointPairIterator *ComGoogleCommonGraphEndpointPairIterator_ofWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) {
  ComGoogleCommonGraphEndpointPairIterator_initialize();
  return [((id<ComGoogleCommonGraphGraph>) nil_chk(graph)) isDirected] ? create_ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(graph) : (id) create_ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(graph);
}

void ComGoogleCommonGraphEndpointPairIterator_initWithComGoogleCommonGraphGraph_(ComGoogleCommonGraphEndpointPairIterator *self, id<ComGoogleCommonGraphGraph> graph) {
  ComGoogleCommonCollectAbstractIterator_init(self);
  JreStrongAssign(&self->node_, nil);
  JreStrongAssign(&self->successorIterator_, [((ComGoogleCommonCollectImmutableSet *) nil_chk(ComGoogleCommonCollectImmutableSet_of())) iterator]);
  JreStrongAssign(&self->graph_, graph);
  JreStrongAssign(&self->nodeIterator_, [((id<JavaUtilSet>) nil_chk([((id<ComGoogleCommonGraphGraph>) nil_chk(graph)) nodes])) iterator]);
}

jboolean ComGoogleCommonGraphEndpointPairIterator_advance(ComGoogleCommonGraphEndpointPairIterator *self) {
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_(![((id<JavaUtilIterator>) nil_chk(self->successorIterator_)) hasNext]);
  if (![((id<JavaUtilIterator>) nil_chk(self->nodeIterator_)) hasNext]) {
    return false;
  }
  JreStrongAssign(&self->node_, [self->nodeIterator_ next]);
  JreStrongAssign(&self->successorIterator_, [((id<JavaUtilSet>) nil_chk([((id<ComGoogleCommonGraphGraph>) nil_chk(self->graph_)) successorsWithId:self->node_])) iterator]);
  return true;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleCommonGraphEndpointPairIterator)

@implementation ComGoogleCommonGraphEndpointPairIterator_Directed

- (instancetype)initWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph {
  ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(self, graph);
  return self;
}

- (ComGoogleCommonGraphEndpointPair *)computeNext {
  while (true) {
    if ([((id<JavaUtilIterator>) nil_chk(successorIterator_)) hasNext]) {
      return ComGoogleCommonGraphEndpointPair_orderedWithId_withId_(node_, [((id<JavaUtilIterator>) nil_chk(successorIterator_)) next]);
    }
    if (!ComGoogleCommonGraphEndpointPairIterator_advance(self)) {
      return [self endOfData];
    }
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, 1, -1, -1 },
    { NULL, "LComGoogleCommonGraphEndpointPair;", 0x4, -1, -1, -1, 2, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithComGoogleCommonGraphGraph:);
  methods[1].selector = @selector(computeNext);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LComGoogleCommonGraphGraph;", "(Lcom/google/common/graph/Graph<TN;>;)V", "()Lcom/google/common/graph/EndpointPair<TN;>;", "LComGoogleCommonGraphEndpointPairIterator;", "<N:Ljava/lang/Object;>Lcom/google/common/graph/EndpointPairIterator<TN;>;" };
  static const J2ObjcClassInfo _ComGoogleCommonGraphEndpointPairIterator_Directed = { "Directed", "com.google.common.graph", ptrTable, methods, NULL, 7, 0x1a, 2, 0, 3, -1, -1, 4, -1 };
  return &_ComGoogleCommonGraphEndpointPairIterator_Directed;
}

@end

void ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(ComGoogleCommonGraphEndpointPairIterator_Directed *self, id<ComGoogleCommonGraphGraph> graph) {
  ComGoogleCommonGraphEndpointPairIterator_initWithComGoogleCommonGraphGraph_(self, graph);
}

ComGoogleCommonGraphEndpointPairIterator_Directed *new_ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) {
  J2OBJC_NEW_IMPL(ComGoogleCommonGraphEndpointPairIterator_Directed, initWithComGoogleCommonGraphGraph_, graph)
}

ComGoogleCommonGraphEndpointPairIterator_Directed *create_ComGoogleCommonGraphEndpointPairIterator_Directed_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) {
  J2OBJC_CREATE_IMPL(ComGoogleCommonGraphEndpointPairIterator_Directed, initWithComGoogleCommonGraphGraph_, graph)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleCommonGraphEndpointPairIterator_Directed)

@implementation ComGoogleCommonGraphEndpointPairIterator_Undirected

- (instancetype)initWithComGoogleCommonGraphGraph:(id<ComGoogleCommonGraphGraph>)graph {
  ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(self, graph);
  return self;
}

- (ComGoogleCommonGraphEndpointPair *)computeNext {
  while (true) {
    while ([((id<JavaUtilIterator>) nil_chk(successorIterator_)) hasNext]) {
      id otherNode = [((id<JavaUtilIterator>) nil_chk(successorIterator_)) next];
      if (![((id<JavaUtilSet>) nil_chk(visitedNodes_)) containsWithId:otherNode]) {
        return ComGoogleCommonGraphEndpointPair_unorderedWithId_withId_(node_, otherNode);
      }
    }
    [((id<JavaUtilSet>) nil_chk(visitedNodes_)) addWithId:node_];
    if (!ComGoogleCommonGraphEndpointPairIterator_advance(self)) {
      JreStrongAssign(&visitedNodes_, nil);
      return [self endOfData];
    }
  }
}

- (void)dealloc {
  RELEASE_(visitedNodes_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, 1, -1, -1 },
    { NULL, "LComGoogleCommonGraphEndpointPair;", 0x4, -1, -1, -1, 2, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithComGoogleCommonGraphGraph:);
  methods[1].selector = @selector(computeNext);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "visitedNodes_", "LJavaUtilSet;", .constantValue.asLong = 0, 0x2, -1, -1, 3, -1 },
  };
  static const void *ptrTable[] = { "LComGoogleCommonGraphGraph;", "(Lcom/google/common/graph/Graph<TN;>;)V", "()Lcom/google/common/graph/EndpointPair<TN;>;", "Ljava/util/Set<TN;>;", "LComGoogleCommonGraphEndpointPairIterator;", "<N:Ljava/lang/Object;>Lcom/google/common/graph/EndpointPairIterator<TN;>;" };
  static const J2ObjcClassInfo _ComGoogleCommonGraphEndpointPairIterator_Undirected = { "Undirected", "com.google.common.graph", ptrTable, methods, fields, 7, 0x1a, 2, 1, 4, -1, -1, 5, -1 };
  return &_ComGoogleCommonGraphEndpointPairIterator_Undirected;
}

@end

void ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(ComGoogleCommonGraphEndpointPairIterator_Undirected *self, id<ComGoogleCommonGraphGraph> graph) {
  ComGoogleCommonGraphEndpointPairIterator_initWithComGoogleCommonGraphGraph_(self, graph);
  JreStrongAssign(&self->visitedNodes_, ComGoogleCommonCollectSets_newHashSetWithExpectedSizeWithInt_([((id<JavaUtilSet>) nil_chk([((id<ComGoogleCommonGraphGraph>) nil_chk(graph)) nodes])) size]));
}

ComGoogleCommonGraphEndpointPairIterator_Undirected *new_ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) {
  J2OBJC_NEW_IMPL(ComGoogleCommonGraphEndpointPairIterator_Undirected, initWithComGoogleCommonGraphGraph_, graph)
}

ComGoogleCommonGraphEndpointPairIterator_Undirected *create_ComGoogleCommonGraphEndpointPairIterator_Undirected_initWithComGoogleCommonGraphGraph_(id<ComGoogleCommonGraphGraph> graph) {
  J2OBJC_CREATE_IMPL(ComGoogleCommonGraphEndpointPairIterator_Undirected, initWithComGoogleCommonGraphGraph_, graph)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleCommonGraphEndpointPairIterator_Undirected)
